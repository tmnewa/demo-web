{"version":3,"sources":["webpack:///static/js/signature_demo.5b7477703164a363759d.js","webpack:///./src/components/Signature/Signature.jsx","webpack:///./src/container/SignatureContainer/animation/aniSentOutContract.js","webpack:///./src/container/SignatureContainer/components/SignatureHintMask/SignatureHintMask.jsx","webpack:///./src/container/SignatureContainer/components/SignatureHintMask/animation/aniLight.js","webpack:///./src/signature_demo.js","webpack:///./src/components/Signature/styles/Signature.scss?29f4","webpack:///./src/container/SignatureContainer/SignatureContainer.scss?dd8f","webpack:///./src/container/SignatureContainer/components/SignatureHintMask/SignatureHintMask.scss?2a4c","webpack:///./src/images/NEWA/logo_newa.png","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/container/SignatureContainer/SignatureContainer.jsx","webpack:///./src/images/test_img/contract_hash.jpg"],"names":["webpackJsonp","100","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","distanceBetween","point1","point2","Math","sqrt","pow","x","y","angleBetween","atan2","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_bind","_bind2","_Signature","_Signature2","Signature","bind","_PureComponent","this","_this","__proto__","call","_creatCanvas","area_proportion","props","window_proportion","window","innerWidth","innerHeight","console","log","setState","canvas","width","height","el","refCanvasSignature","ctx","getContext","lineJoin","lineCap","_drawStartSignature","e","preventDefault","isDrawing","lastPoint","touches","clientX","offsetLeft","clientY","offsetTop","_drawMoveSignature","currentPoint","dist","angle","force","i","sin","cos","radgrad","createRadialGradient","rectSize","addColorStop","fillStyle","fillRect","_drawEndSignature","alreadySign","_getScaleOrigin","signature_area","document","getElementById","dom_signature_id","transformOrigin","clientWidth","clientHeight","_cleanSignature","clearRect","_completeSignature","closeSignature","signature","toDataURL","tempImage","Image","onload","canvas_transform","createElement","transform","drawImage","src","state","key","nextProps","nextState","orientation","_this2","_state","_props","signature_open","className","container"," active","style","ref","onTouchStart","onTouchMove","onTouchEnd","box__btns","btn__signatureClean","onClick","aria-hidden","btn__signatureDone","PureComponent","propTypes","PropTypes","string","isRequired","bool","func","number","101","animeSentOutContract","Dom_contract","_gsap","TimelineLite","to","ease","Power2","easeOut","102","_SignatureHintMask","_SignatureHintMask2","_aniLight","_aniLight2","SignatureHintMask","_viewportInit","vw","vh","logo_size","logo_x","logo_y","_startOpeningAnimation","contractOnload","refCircleLight","refTitle","id_contract","prevProps","prevState","setTimeout","cb","TweenMax","refContainer","opacity","onComplete","_this3","cbHintDone","title","viewBox","id","fill","circle","cx","cy","r","svg__bg","mask","svg__logo","xlinkHref","103","light","Dom_light","Dom_title","tl","force3D","attr","delay","skewX","rotation","107","_reactDom","_SignatureContainer","_SignatureContainer2","render","img_contract","115","116","box__contract","box__contract--hint","img__contract","signature_position","signatureArea","signature_requirement","signature_requirement2","btn__search","btn__confirm","117","svg__hintCircle","126","p","15","React","42","ReactDOM","96","_TransitionGroup","_TransitionGroup2","_aniSentOutContract","_aniSentOutContract2","SignatureContainer","_getOrientation","_getSignatureAreaProportion","refSignatureArea","_zoomOutViewSize","viewport_meta","querySelector","content","_releaseScalable","_cbHintDone","hintMaskDone","_openSignatureArea","signatureAreaOpen","_closeSignatureArea","imageSignature","signedOrNot","signatureComplete","_confirmContract","refContract","_onloadImgContract","zoomIn","body","addEventListener","active","contract","onLoad","alt","backgroundImage","98"],"mappings":"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","file":"static/js/signature_demo.5b7477703164a363759d.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 100:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(43);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(44);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(45);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(47);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(46);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(15);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _bind = __webpack_require__(91);\n\nvar _bind2 = _interopRequireDefault(_bind);\n\nvar _gsap = __webpack_require__(90);\n\nvar _Signature = __webpack_require__(115);\n\nvar _Signature2 = _interopRequireDefault(_Signature);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar cx = _bind2.default.bind(_Signature2.default);\n\nvar canvas_border_width = 16 * 2;\n\nvar Signature = function (_PureComponent) {\n  (0, _inherits3.default)(Signature, _PureComponent);\n\n  function Signature() {\n    (0, _classCallCheck3.default)(this, Signature);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Signature.__proto__ || (0, _getPrototypeOf2.default)(Signature)).call(this));\n\n    _this._creatCanvas = function () {\n      var area_proportion = _this.props.area_proportion;\n\n      var window_proportion = window.innerWidth / window.innerHeight;\n\n      if (window_proportion > 1) {\n        if (window_proportion > area_proportion) {\n          console.log(\"land max height\");\n          _this.setState({\n            canvas: {\n              width: window.innerHeight * area_proportion,\n              height: window.innerHeight\n            }\n          });\n        } else {\n          console.log(\"land max width\");\n          _this.setState({\n            canvas: {\n              width: window.innerWidth,\n              height: window.innerWidth / area_proportion\n            }\n          });\n        }\n      } else {\n        if (1 / window_proportion > area_proportion) {\n          console.log(\"port max width\");\n          _this.setState({\n            canvas: {\n              width: window.innerWidth,\n              height: window.innerWidth * area_proportion\n            }\n          });\n        } else {\n          console.log(\"port max height\");\n          console.log(window.innerHeight);\n          _this.setState({\n            canvas: {\n              width: window.innerHeight / area_proportion,\n              height: window.innerHeight\n            }\n          });\n        }\n      }\n\n      var el = _this.refCanvasSignature;\n      _this.ctx = el.getContext('2d');\n      _this.ctx.lineJoin = _this.ctx.lineCap = 'round';\n    };\n\n    _this._drawStartSignature = function (e) {\n      e.preventDefault();\n      _this.isDrawing = true;\n      _this.lastPoint = {\n        x: e.touches[0].clientX - _this.refCanvasSignature.offsetLeft,\n        y: e.touches[0].clientY - _this.refCanvasSignature.offsetTop\n      };\n    };\n\n    _this._drawMoveSignature = function (e) {\n      if (!_this.isDrawing) return;\n      var currentPoint = {\n        x: e.touches[0].clientX - _this.refCanvasSignature.offsetLeft,\n        y: e.touches[0].clientY - _this.refCanvasSignature.offsetTop\n      };\n      var dist = distanceBetween(_this.lastPoint, currentPoint);\n      var angle = angleBetween(_this.lastPoint, currentPoint);\n      var force = e.touches[0].force;\n      for (var i = 0; i < dist; i++) {\n        var x = _this.lastPoint.x + Math.sin(angle) * i;\n        var y = _this.lastPoint.y + Math.cos(angle) * i;\n        var radgrad = _this.ctx.createRadialGradient(x, y, 0, x, y, _this.rectSize / 3 * (force + 0.05));\n        radgrad.addColorStop(0, '#000');\n        radgrad.addColorStop(0.3, 'rgba(0,0,0,0.5)');\n        radgrad.addColorStop(1, 'rgba(0,0,0,0)');\n        _this.ctx.fillStyle = radgrad;\n        _this.ctx.fillRect(x - _this.rectSize / 2, y - _this.rectSize / 2, _this.rectSize, _this.rectSize);\n      }\n      _this.lastPoint = currentPoint;\n    };\n\n    _this._drawEndSignature = function () {\n      _this.isDrawing = false;\n      _this.alreadySign = true;\n    };\n\n    _this._getScaleOrigin = function () {\n      var signature_area = document.getElementById(_this.props.dom_signature_id);\n      _this.setState({\n        transformOrigin: signature_area.offsetLeft + signature_area.clientWidth / 2 + 'px ' + (signature_area.offsetTop + signature_area.clientHeight / 2) + 'px'\n      });\n    };\n\n    _this._cleanSignature = function () {\n      var el = _this.refCanvasSignature;\n      _this.ctx.clearRect(0, 0, el.width, el.height);\n      _this.alreadySign = false;\n    };\n\n    _this._completeSignature = function () {\n      var closeSignature = _this.props.closeSignature;\n\n      var signature = _this.refCanvasSignature.toDataURL();\n      if (window.innerWidth / window.innerHeight < 1) {\n        var tempImage = new Image();\n        tempImage.onload = function () {\n          var width = tempImage.width,\n              height = tempImage.height;\n\n          var canvas_transform = document.createElement('canvas');\n          var ctx = canvas_transform.getContext(\"2d\");\n          canvas_transform.width = height;\n          canvas_transform.height = width;\n          ctx.transform(0, -1, 1, 0, 0, width);\n          ctx.drawImage(tempImage, 0, 0);\n          signature = canvas_transform.toDataURL();\n          closeSignature(signature, _this.alreadySign);\n        };\n        tempImage.src = signature;\n      } else {\n        closeSignature(signature, _this.alreadySign);\n      }\n    };\n\n    _this.state = {\n      transformOrigin: false,\n      canvas: {\n        height: false,\n        width: false\n      }\n    };\n    _this.isDrawing = false;\n    _this.lastPoint = false;\n    _this.ctx = false;\n    _this.rectSize = 60;\n    _this.alreadySign = false;\n    return _this;\n  }\n\n  (0, _createClass3.default)(Signature, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this._getScaleOrigin();\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps, nextState) {\n      if (nextProps.orientation != this.props.orientation) {\n        this._cleanSignature();\n        this._creatCanvas();\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._creatCanvas();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _state = this.state,\n          transformOrigin = _state.transformOrigin,\n          canvas = _state.canvas;\n      var _props = this.props,\n          signature_open = _props.signature_open,\n          closeSignature = _props.closeSignature,\n          area_proportion = _props.area_proportion;\n\n      return _react2.default.createElement(\n        'div',\n        { className: _Signature2.default.container + (0, _bind2.default)({\n            \" active\": signature_open\n          }), style: { transformOrigin: transformOrigin } },\n        area_proportion && _react2.default.createElement('canvas', {\n          ref: function ref(canvas) {\n            return _this2.refCanvasSignature = canvas;\n          },\n          width: canvas.width,\n          height: canvas.height - canvas_border_width,\n          onTouchStart: this._drawStartSignature,\n          onTouchMove: this._drawMoveSignature,\n          onTouchEnd: this._drawEndSignature }),\n        _react2.default.createElement(\n          'div',\n          { className: _Signature2.default.box__btns },\n          _react2.default.createElement(\n            'div',\n            { className: _Signature2.default.btn__signatureClean, onClick: this._cleanSignature },\n            _react2.default.createElement('i', { className: 'fa fa-eraser', 'aria-hidden': 'true' })\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: _Signature2.default.btn__signatureDone, onClick: this._completeSignature },\n            _react2.default.createElement('i', { className: 'fa fa-check', 'aria-hidden': 'true' })\n          )\n        )\n      );\n    }\n  }]);\n  return Signature;\n}(_react.PureComponent);\n\nfunction distanceBetween(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n}\nfunction angleBetween(point1, point2) {\n  return Math.atan2(point2.x - point1.x, point2.y - point1.y);\n}\n\nSignature.propTypes = {\n  dom_signature_id: _react.PropTypes.string.isRequired,\n  signature_open: _react.PropTypes.bool.isRequired,\n  closeSignature: _react.PropTypes.func.isRequired,\n  area_proportion: _react.PropTypes.number,\n  orientation: _react.PropTypes.string.isRequired };\n\nexports.default = Signature;\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = animeSentOutContract;\n\nvar _gsap = __webpack_require__(90);\n\nfunction animeSentOutContract(Dom_contract) {\n  console.log('sent out');\n  console.log(Dom_contract);\n  console.log(Dom_contract.clientHeight);\n  var tl = new _gsap.TimelineLite();\n  tl.to(Dom_contract, 0.3, {\n    y: -Dom_contract.clientHeight,\n    ease: _gsap.Power2.easeOut\n  });\n}\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(43);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(44);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(45);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(47);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(46);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(15);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SignatureHintMask = __webpack_require__(117);\n\nvar _SignatureHintMask2 = _interopRequireDefault(_SignatureHintMask);\n\nvar _gsap = __webpack_require__(90);\n\nvar _aniLight = __webpack_require__(103);\n\nvar _aniLight2 = _interopRequireDefault(_aniLight);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SignatureHintMask = function (_PureComponent) {\n  (0, _inherits3.default)(SignatureHintMask, _PureComponent);\n\n  function SignatureHintMask() {\n    (0, _classCallCheck3.default)(this, SignatureHintMask);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SignatureHintMask.__proto__ || (0, _getPrototypeOf2.default)(SignatureHintMask)).call(this));\n\n    _this._viewportInit = function () {\n      _this.setState({\n        vw: window.innerWidth,\n        vh: window.innerHeight,\n        logo_size: window.innerHeight / 3,\n        logo_x: window.innerWidth / 2 - window.innerHeight / 6,\n        logo_y: window.innerHeight * 0.2\n      }, _this._startOpeningAnimation);\n    };\n\n    _this._startOpeningAnimation = function () {\n      if (window.innerHeight > window.innerWidth && _this.props.contractOnload) {\n        (0, _aniLight2.default)(_this.refCircleLight, _this.refTitle, _this.props.id_contract);\n      }\n    };\n\n    _this.state = {\n      vw: window.innerWidth,\n      vh: window.innerHeight,\n      logo_size: window.innerHeight / 3,\n      logo_x: window.innerWidth / 2 - window.innerHeight / 6,\n      logo_y: window.innerHeight * 0.2\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(SignatureHintMask, [{\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps, nextState) {\n      if (nextProps.orientation != this.props.orientation) {\n        this._viewportInit();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.orientation === \"port\" && prevProps.orientation == \"land\") {\n        this._startOpeningAnimation();\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (window.innerHeight > window.innerWidth) {\n        setTimeout(function () {\n          _this2._startOpeningAnimation();\n        }, 1000);\n      }\n    }\n  }, {\n    key: 'componentWillLeave',\n    value: function componentWillLeave(cb) {\n      _gsap.TweenMax.to(this.refContainer, 0.5, {\n        opacity: 0,\n        onComplete: cb\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var cbHintDone = this.props.cbHintDone;\n      var _state = this.state,\n          vw = _state.vw,\n          vh = _state.vh,\n          logo_size = _state.logo_size,\n          logo_x = _state.logo_x,\n          logo_y = _state.logo_y;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          ref: function ref(container) {\n            return _this3.refContainer = container;\n          },\n          className: _SignatureHintMask2.default.container,\n          onClick: cbHintDone },\n        _react2.default.createElement(\n          'h1',\n          { ref: function ref(title) {\n              return _this3.refTitle = title;\n            } },\n          '\\u5409\\u6642\\u4FDD\\u7DDA\\u4E0A\\u7C3D\\u6838'\n        ),\n        _react2.default.createElement(\n          'svg',\n          { viewBox: '0 0 ' + vw + ' ' + vh },\n          _react2.default.createElement(\n            'defs',\n            null,\n            _react2.default.createElement(\n              'mask',\n              { id: 'clip_hint' },\n              _react2.default.createElement('rect', {\n                width: '100%',\n                height: '100%',\n                fill: 'white' }),\n              _react2.default.createElement('circle', {\n                className: 'svg__hintCircle',\n                ref: function ref(circle) {\n                  return _this3.refCircleLight = circle;\n                },\n                cx: vw * 0.5,\n                cy: -vh * 0.5,\n                r: '0',\n                fill: 'black' })\n            )\n          ),\n          _react2.default.createElement('rect', {\n            className: _SignatureHintMask2.default.svg__bg,\n            x: '0',\n            y: '0',\n            width: window.innerWidth,\n            height: window.innerHeight,\n            mask: 'url(#clip_hint)' }),\n          _react2.default.createElement('image', {\n            x: logo_x,\n            y: logo_y,\n            width: logo_size,\n            height: logo_size,\n            className: _SignatureHintMask2.default.svg__logo,\n            xlinkHref: __webpack_require__(126) })\n        )\n      );\n    }\n  }]);\n  return SignatureHintMask;\n}(_react.PureComponent);\n\nSignatureHintMask.propTypes = {\n  cbHintDone: _react.PropTypes.func.isRequired,\n  id_contract: _react.PropTypes.string.isRequired,\n  contractOnload: _react.PropTypes.bool.isRequired,\n  orientation: _react.PropTypes.string.isRequired };\n\nexports.default = SignatureHintMask;\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = light;\n\nvar _gsap = __webpack_require__(90);\n\nfunction light(Dom_light, Dom_title, id_contract) {\n  var tl = new _gsap.TimelineLite(),\n      dom_contract = document.getElementById(id_contract);\n  var vw = window.innerWidth,\n      vh = window.innerHeight;\n\n  tl.to(Dom_light, 1, {\n    force3D: false,\n    attr: {\n      cy: vh * (0.2 + 0.3 / 2 + 0.02),\n      r: vh * 0.22\n    },\n    ease: _gsap.Power2.easeOut\n  }).to(Dom_light, 1, {\n    force3D: false,\n    attr: {\n      cy: 16 * (62.2 + 3.48 / 2) + 0.15 * vh,\n      r: vw * 0.3\n    },\n    delay: 1\n  }).to(Dom_light, 1, {\n    force3D: false,\n    transformOrigin: \"center center\",\n    skewX: 40,\n    rotation: -25,\n    attr: {\n      r: vw * 0.3\n    }\n  }).to(Dom_title, 1, {\n    opacity: 1,\n    ease: _gsap.Power2.easeOut\n  });\n}\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(15);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(42);\n\nvar _SignatureContainer = __webpack_require__(96);\n\nvar _SignatureContainer2 = _interopRequireDefault(_SignatureContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (false) {\n  module.hot.accept();\n}\n\n(0, _reactDom.render)(_react2.default.createElement(_SignatureContainer2.default, { img_contract: __webpack_require__(98) }), document.getElementById(\"app\"));\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"Signature__container___NdjX7\",\"box__btns\":\"Signature__box__btns___i4D80\",\"btn__signatureDone\":\"Signature__btn__signatureDone___3Ckj0\",\"btn__signatureClean\":\"Signature__btn__signatureClean___2g97P\"};\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"SignatureContainer__container___2_x8m\",\"box__contract\":\"SignatureContainer__box__contract___r9p2f\",\"box__contract--hint\":\"SignatureContainer__box__contract--hint___3gIgl\",\"img__contract\":\"SignatureContainer__img__contract___1HlBB\",\"signature_position\":\"SignatureContainer__signature_position___2oE9H\",\"signatureArea\":\"SignatureContainer__signatureArea___2Hbf0\",\"signature_requirement\":\"SignatureContainer__signature_requirement___1vlnB\",\"signature_requirement2\":\"SignatureContainer__signature_requirement2___2dEKV\",\"btn__search\":\"SignatureContainer__btn__search___3h05D\",\"btn__confirm\":\"SignatureContainer__btn__confirm___3sd8a\"};\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"SignatureHintMask__container___2KwXP\",\"svg__bg\":\"SignatureHintMask__svg__bg___OjmQU\",\"svg__logo\":\"SignatureHintMask__svg__logo___3VAwu\",\"svg__hintCircle\":\"SignatureHintMask__svg__hintCircle___13LO4\"};\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/logo_newa.c58150e.png\";\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, exports) {\n\nmodule.exports = React;\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports) {\n\nmodule.exports = ReactDOM;\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(43);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(44);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(45);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(47);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(46);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(15);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _bind = __webpack_require__(91);\n\nvar _bind2 = _interopRequireDefault(_bind);\n\nvar _TransitionGroup = __webpack_require__(124);\n\nvar _TransitionGroup2 = _interopRequireDefault(_TransitionGroup);\n\nvar _SignatureContainer = __webpack_require__(116);\n\nvar _SignatureContainer2 = _interopRequireDefault(_SignatureContainer);\n\nvar _SignatureHintMask = __webpack_require__(102);\n\nvar _SignatureHintMask2 = _interopRequireDefault(_SignatureHintMask);\n\nvar _Signature = __webpack_require__(100);\n\nvar _Signature2 = _interopRequireDefault(_Signature);\n\nvar _aniSentOutContract = __webpack_require__(101);\n\nvar _aniSentOutContract2 = _interopRequireDefault(_aniSentOutContract);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar cx = _bind2.default.bind(_SignatureContainer2.default);\n\nvar style = {\n  marginRight: 20\n};\n\nvar SignatureContainer = function (_PureComponent) {\n  (0, _inherits3.default)(SignatureContainer, _PureComponent);\n\n  function SignatureContainer() {\n    (0, _classCallCheck3.default)(this, SignatureContainer);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SignatureContainer.__proto__ || (0, _getPrototypeOf2.default)(SignatureContainer)).call(this));\n\n    _this._getOrientation = function () {\n      _this.setState({\n        orientation: window.innerHeight > window.innerWidth ? 'port' : 'land'\n      });\n    };\n\n    _this._getSignatureAreaProportion = function () {\n      _this.setState({\n        area_proportion: _this.refSignatureArea.clientWidth / _this.refSignatureArea.clientHeight\n      });\n    };\n\n    _this._zoomOutViewSize = function () {\n      var viewport_meta = document.querySelector('meta[name=\"viewport\"]');\n      if (viewport_meta) {\n        viewport_meta.content = 'width=1041, user-scalable=no';\n      }\n    };\n\n    _this._releaseScalable = function () {\n      var viewport_meta = document.querySelector('meta[name=\"viewport\"]');\n      viewport_meta.content = 'width=1040';\n    };\n\n    _this._cbHintDone = function () {\n      _this.setState({\n        hintMaskDone: true\n      }, function () {\n        _this._releaseScalable();\n      });\n    };\n\n    _this._openSignatureArea = function () {\n      _this._zoomOutViewSize();\n      _this.setState({\n        signatureAreaOpen: true\n      });\n    };\n\n    _this._closeSignatureArea = function (imageSignature, signedOrNot) {\n      _this.setState({\n        signatureAreaOpen: false,\n        signatureComplete: signedOrNot,\n        imageSignature: imageSignature\n      }, function () {\n        _this._releaseScalable();\n      });\n    };\n\n    _this._completeSignature = function (bool) {\n      _this.setState({\n        signatureComplete: bool\n      });\n    };\n\n    _this._confirmContract = function () {\n      (0, _aniSentOutContract2.default)(_this.refContract);\n    };\n\n    _this._onloadImgContract = function () {\n      _this.setState({\n        contractOnload: true\n      });\n    };\n\n    _this.state = {\n      orientation: false,\n      hintMaskDone: false,\n      signatureAreaOpen: false,\n      signatureComplete: false,\n      area_proportion: false,\n      imageSignature: false,\n      zoomIn: false,\n      contractOnload: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(SignatureContainer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._getSignatureAreaProportion();\n      var viewport_meta = document.querySelector('meta[name=\"viewport\"]');\n      document.body.addEventListener('gesturestart', function () {\n        viewport_meta.content = 'width=1040';\n      }, false);\n\n      window.addEventListener(\"resize\", function (e) {\n        _this2._getOrientation();\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var id_proposer = \"signature_proposer\";\n      var id_contract = \"box_contract\";\n      var img_contract = this.props.img_contract;\n      var _state = this.state,\n          orientation = _state.orientation,\n          hintMaskDone = _state.hintMaskDone,\n          signatureAreaOpen = _state.signatureAreaOpen,\n          area_proportion = _state.area_proportion,\n          imageSignature = _state.imageSignature,\n          signatureComplete = _state.signatureComplete,\n          contractOnload = _state.contractOnload;\n\n      return _react2.default.createElement(\n        'div',\n        { className: cx(\"container\", {\n            \"active\": imageSignature\n          }) },\n        _react2.default.createElement(\n          'div',\n          {\n            id: id_contract,\n            ref: function ref(contract) {\n              return _this3.refContract = contract;\n            },\n            className: cx('box__contract', {\n              'box__contract--hint': !hintMaskDone\n            }) },\n          _react2.default.createElement('img', {\n            src: img_contract,\n            className: _SignatureContainer2.default.img__contract,\n            onLoad: this._onloadImgContract,\n            alt: 'contract' }),\n          _react2.default.createElement('div', {\n            id: id_proposer,\n            ref: function ref(signature_area) {\n              return _this3.refSignatureArea = signature_area;\n            },\n            className: cx('signature_position', 'signature_requirement', {\n              'active': imageSignature\n            }),\n            style: { backgroundImage: 'url(' + imageSignature + ')' },\n            onClick: this._openSignatureArea })\n        ),\n        area_proportion ? _react2.default.createElement(_Signature2.default, {\n          dom_signature_id: id_proposer,\n          orientation: orientation,\n          signature_open: signatureAreaOpen,\n          area_proportion: area_proportion,\n          closeSignature: this._closeSignatureArea }) : false,\n        _react2.default.createElement(\n          _TransitionGroup2.default,\n          null,\n          !hintMaskDone && _react2.default.createElement(_SignatureHintMask2.default, {\n            orientation: orientation,\n            cbHintDone: this._cbHintDone,\n            id_contract: id_contract,\n            contractOnload: contractOnload })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: cx(\"btn__confirm\", {\n              \"active\": signatureComplete\n            }), onClick: this._confirmContract },\n          '\\u78BA\\u8A8D\\u9001\\u51FA'\n        )\n      );\n    }\n  }]);\n  return SignatureContainer;\n}(_react.PureComponent);\n\nSignatureContainer.propTypes = {\n  img_contract: _react.PropTypes.string.isRequired\n};\n\nexports.default = SignatureContainer;\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/contract_hash.47e78d0.jpg\";\n\n/***/ })\n\n},[107]);\n\n\n// WEBPACK FOOTER //\n// static/js/signature_demo.5b7477703164a363759d.js","import React, { PureComponent, PropTypes } from 'react';\nimport classNames from 'classnames/bind';\nimport { TweenMax } from 'gsap';\n\nimport styles from './styles/Signature.scss';\nconst cx = classNames.bind(styles);\n\nconst canvas_border_width = 16 * 2;\n/**\n * 1.\n * it will auto get position of contract signature area by id,\n * to set transformOrigin and scale 0 for zoom out with right position\n * \n * 2.create canvas area by contract signature area proportion\n * \n * @class Signature\n * @extends {PureComponent}\n */\nclass Signature extends PureComponent {\n  constructor() {\n    super()\n    this.state = {\n      transformOrigin: false,\n      canvas: {\n        height: false,\n        width: false,\n      }\n    }\n    this.isDrawing = false;\n    this.lastPoint = false;\n    this.ctx = false;\n    this.rectSize = 60;\n    this.alreadySign = false;\n  }\n\n  componentWillMount() {\n    this._getScaleOrigin();\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    if (nextProps.orientation != this.props.orientation) {\n      this._cleanSignature();\n      this._creatCanvas();\n    }\n  }\n\n  componentDidMount() {\n    this._creatCanvas();\n  }\n\n  _creatCanvas = () => {\n    const {area_proportion} = this.props;\n    const window_proportion = window.innerWidth / window.innerHeight;\n\n    if (window_proportion > 1) { //landscape\n      if (window_proportion > area_proportion) { // use max height\n        console.log(\"land max height\");\n        this.setState({\n          canvas: {\n            width: window.innerHeight * area_proportion,\n            height: window.innerHeight,\n          }\n        })\n      } else { // use max width\n        console.log(\"land max width\");\n        this.setState({\n          canvas: {\n            width: window.innerWidth,\n            height: window.innerWidth / area_proportion,\n          }\n        })\n      }\n    } else { // portrait\n      if (1 / window_proportion > area_proportion) { // use max width\n        console.log(\"port max width\");\n        this.setState({\n          canvas: {\n            width: window.innerWidth,\n            height: window.innerWidth * area_proportion,\n          }\n        })\n      } else { // use max height\n        console.log(\"port max height\");\n        console.log(window.innerHeight);\n        this.setState({\n          canvas: {\n            width: window.innerHeight / area_proportion,\n            height: window.innerHeight,\n          }\n        })\n      }\n    }\n\n    const el = this.refCanvasSignature;\n    this.ctx = el.getContext('2d');\n    this.ctx.lineJoin = this.ctx.lineCap = 'round';\n  }\n\n  _drawStartSignature = (e) => {\n    e.preventDefault();\n    this.isDrawing = true;\n    this.lastPoint = {\n      x: e.touches[0].clientX - this.refCanvasSignature.offsetLeft,\n      y: e.touches[0].clientY - this.refCanvasSignature.offsetTop\n    };\n\n  }\n\n  _drawMoveSignature = (e) => {\n    if (!this.isDrawing) return;\n    var currentPoint = {\n      x: e.touches[0].clientX - this.refCanvasSignature.offsetLeft,\n      y: e.touches[0].clientY - this.refCanvasSignature.offsetTop\n    };\n    var dist = distanceBetween(this.lastPoint, currentPoint);\n    var angle = angleBetween(this.lastPoint, currentPoint);\n    var force = e.touches[0].force;\n    for (var i = 0; i < dist; i++) {\n      var x = this.lastPoint.x + (Math.sin(angle) * i);\n      var y = this.lastPoint.y + (Math.cos(angle) * i);\n      var radgrad = this.ctx.createRadialGradient(x, y, 0, x, y, this.rectSize / 3 * (force + 0.05));\n      radgrad.addColorStop(0, '#000');\n      radgrad.addColorStop(0.3, 'rgba(0,0,0,0.5)');\n      radgrad.addColorStop(1, 'rgba(0,0,0,0)');\n      this.ctx.fillStyle = radgrad;\n      this.ctx.fillRect(x - this.rectSize / 2, y - this.rectSize / 2, this.rectSize, this.rectSize);\n    }\n    this.lastPoint = currentPoint;\n  }\n\n  _drawEndSignature = () => {\n    this.isDrawing = false;\n    this.alreadySign = true;\n  }\n\n  _getScaleOrigin = () => {\n    var signature_area = document.getElementById(this.props.dom_signature_id);\n    this.setState({\n      transformOrigin: `${signature_area.offsetLeft + signature_area.clientWidth/2}px ${signature_area.offsetTop + signature_area.clientHeight/2}px`\n    });\n  }\n\n  _cleanSignature = () => {\n    const el = this.refCanvasSignature;\n    this.ctx.clearRect(0, 0, el.width, el.height);\n    this.alreadySign = false;\n  }\n\n  _completeSignature = () => {\n    const {closeSignature} = this.props;\n    let signature = this.refCanvasSignature.toDataURL();\n    if (window.innerWidth / window.innerHeight < 1) {\n      var tempImage = new Image();\n      tempImage.onload = () => {\n        const {width, height} = tempImage;\n        const canvas_transform = document.createElement('canvas');\n        const ctx = canvas_transform.getContext(\"2d\");\n        canvas_transform.width = height;\n        canvas_transform.height = width;\n        ctx.transform(0, -1, 1, 0, 0, width); // -90deg clock-wise\n        ctx.drawImage(tempImage, 0, 0)\n        signature = canvas_transform.toDataURL();\n        closeSignature(signature, this.alreadySign);\n      }\n      tempImage.src = signature;\n    } else {\n      closeSignature(signature, this.alreadySign);\n    }\n  }\n\n  render() {\n    const {transformOrigin, canvas} = this.state;\n    const {signature_open, closeSignature, area_proportion} = this.props;\n    return (\n      <div className={ styles.container + classNames({\n                   \" active\": signature_open\n                 }) } style={ { transformOrigin: transformOrigin } }>\n        { area_proportion\n          &&\n          <canvas\n            ref={ canvas => this.refCanvasSignature = canvas }\n            width={ canvas.width }\n            height={ canvas.height - canvas_border_width }\n            onTouchStart={ this._drawStartSignature }\n            onTouchMove={ this._drawMoveSignature }\n            onTouchEnd={ this._drawEndSignature }></canvas> }\n        <div className={ styles.box__btns }>\n          <div className={ styles.btn__signatureClean } onClick={ this._cleanSignature }>\n            <i className=\"fa fa-eraser\" aria-hidden=\"true\"></i>\n          </div>\n          <div className={ styles.btn__signatureDone } onClick={ this._completeSignature }>\n            <i className=\"fa fa-check\" aria-hidden=\"true\"></i>\n          </div>\n        </div>\n      </div>\n      );\n  }\n}\n\nfunction distanceBetween(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n}\nfunction angleBetween(point1, point2) {\n  return Math.atan2(point2.x - point1.x, point2.y - point1.y);\n}\n\nSignature.propTypes = {\n  dom_signature_id: PropTypes.string.isRequired,\n  signature_open: PropTypes.bool.isRequired,\n  closeSignature: PropTypes.func.isRequired,\n  area_proportion: PropTypes.number,\n  orientation: PropTypes.string.isRequired, // should be 'port' || 'land'\n};\n\nexport default Signature ;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Signature/Signature.jsx","import { Power2, TimelineLite } from 'gsap';\n\nexport default function animeSentOutContract(Dom_contract) {\n  console.log('sent out');\n  console.log(Dom_contract);\n  console.log(Dom_contract.clientHeight);\n  const tl = new TimelineLite();\n  tl.to(Dom_contract, 0.3, {\n    y: -Dom_contract.clientHeight,\n    ease: Power2.easeOut\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/SignatureContainer/animation/aniSentOutContract.js","import React, { PureComponent, PropTypes } from 'react';\nimport styles from './SignatureHintMask.scss';\nimport { TweenMax } from 'gsap';\n\nimport aniLight from './animation/aniLight.js';\n\n\nclass SignatureHintMask extends PureComponent {\n\n  constructor() {\n    super();\n    this.state = {\n      vw: window.innerWidth,\n      vh: window.innerHeight,\n      logo_size: window.innerHeight / 3,\n      logo_x: window.innerWidth / 2 - window.innerHeight / 6,\n      logo_y: window.innerHeight * 0.2,\n    }\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    if (nextProps.orientation != this.props.orientation) {\n      this._viewportInit();\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.orientation === \"port\" && prevProps.orientation == \"land\") {\n      this._startOpeningAnimation();\n    }\n  }\n\n  componentDidMount() {\n    if (window.innerHeight > window.innerWidth) {\n      // delay for user breath\n      setTimeout(() => {\n        this._startOpeningAnimation();\n      }, 1000);\n    }\n  }\n\n  componentWillLeave(cb) {\n    TweenMax.to(this.refContainer, 0.5, {\n      opacity: 0,\n      onComplete: cb\n    })\n  }\n\n  _viewportInit = () => {\n    this.setState({\n      vw: window.innerWidth,\n      vh: window.innerHeight,\n      logo_size: window.innerHeight / 3,\n      logo_x: window.innerWidth / 2 - window.innerHeight / 6,\n      logo_y: window.innerHeight * 0.2,\n    }, this._startOpeningAnimation);\n  }\n\n  /**\n   * when orientation is portrait and contract image onload \n   * then active the opening animation\n   * @memberof SignatureHintMask\n   */\n  _startOpeningAnimation = () => {\n    if (window.innerHeight > window.innerWidth && this.props.contractOnload) {\n      aniLight(this.refCircleLight, this.refTitle, this.props.id_contract)\n    // window.removeEventListener(\"orientationchange\", () => {\n    // });\n    }\n  }\n\n  render() {\n    const {cbHintDone} = this.props;\n    const {vw, vh, logo_size, logo_x, logo_y} = this.state;\n    return (\n      <div\n        ref={ container => this.refContainer = container }\n        className={ styles.container }\n        onClick={ cbHintDone }>\n        <h1 ref={ title => this.refTitle = title }>吉時保線上簽核</h1>\n        <svg viewBox={ `0 0 ${vw} ${vh}` }>\n          <defs>\n            <mask id=\"clip_hint\">\n              <rect\n                width=\"100%\"\n                height=\"100%\"\n                fill=\"white\" />\n              <circle\n                className=\"svg__hintCircle\"\n                ref={ circle => this.refCircleLight = circle }\n                cx={ vw * 0.5 }\n                cy={ -vh * 0.5 }\n                r=\"0\"\n                fill=\"black\" />\n            </mask>\n          </defs>\n          <rect\n            className={ styles.svg__bg }\n            x=\"0\"\n            y=\"0\"\n            width={ window.innerWidth }\n            height={ window.innerHeight }\n            mask=\"url(#clip_hint)\" />\n          <image\n            x={ logo_x }\n            y={ logo_y }\n            width={ logo_size }\n            height={ logo_size }\n            className={ styles.svg__logo }\n            xlinkHref={ require('../../../../images/NEWA/logo_newa.png') } />\n        </svg>\n      </div>\n      );\n  }\n}\n\nSignatureHintMask.propTypes = {\n  cbHintDone: PropTypes.func.isRequired,\n  id_contract: PropTypes.string.isRequired,\n  contractOnload: PropTypes.bool.isRequired,\n  orientation: PropTypes.string.isRequired, // should be 'port' || 'land'\n};\n\nexport default SignatureHintMask;\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/SignatureContainer/components/SignatureHintMask/SignatureHintMask.jsx","// this one is bad for ios safari performance (because animation translate mask)\n\nimport { Power2, TimelineLite } from 'gsap';\n\nexport default function light(Dom_light, Dom_title, id_contract) {\n  const tl = new TimelineLite(),\n    dom_contract = document.getElementById(id_contract);\n  let vw = window.innerWidth,\n    vh = window.innerHeight;\n\n\n  tl\n    .to(Dom_light, 1, {\n      force3D: false,\n      attr: {\n        cy: vh * (0.2 + 0.3 / 2 + 0.02), //0.02: adjust\n        r: vh * 0.22\n      },\n      ease: Power2.easeOut\n    })\n    .to(Dom_light, 1, {\n      force3D: false,\n      attr: {\n        cy: 16 * (62.2 + 3.48 / 2) + 0.15 * vh,\n        r: vw * 0.3\n      },\n      delay: 1\n    })\n    .to(Dom_light, 1, {\n      force3D: false,\n      transformOrigin: \"center center\",\n      skewX: 40,\n      rotation: -25,\n      attr: {\n        r: vw * 0.3\n      }\n    })\n    .to(Dom_title, 1, {\n      opacity: 1,\n      ease: Power2.easeOut\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/SignatureContainer/components/SignatureHintMask/animation/aniLight.js","import React from 'react';\nimport { render } from 'react-dom';\nimport SignatureContainer from './container/SignatureContainer/SignatureContainer.jsx';\n\n// import injectTapEventPlugin from 'react-tap-event-plugin';\n// injectTapEventPlugin();\n\nif (module.hot) {\n  module.hot.accept();\n}\n\nrender(<SignatureContainer img_contract={ require(\"./images/test_img/contract_hash.jpg\") } />, document.getElementById(\"app\"));\n\n\n\n// WEBPACK FOOTER //\n// ./src/signature_demo.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"Signature__container___NdjX7\",\"box__btns\":\"Signature__box__btns___i4D80\",\"btn__signatureDone\":\"Signature__btn__signatureDone___3Ckj0\",\"btn__signatureClean\":\"Signature__btn__signatureClean___2g97P\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Signature/styles/Signature.scss\n// module id = 115\n// module chunks = 4","// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"SignatureContainer__container___2_x8m\",\"box__contract\":\"SignatureContainer__box__contract___r9p2f\",\"box__contract--hint\":\"SignatureContainer__box__contract--hint___3gIgl\",\"img__contract\":\"SignatureContainer__img__contract___1HlBB\",\"signature_position\":\"SignatureContainer__signature_position___2oE9H\",\"signatureArea\":\"SignatureContainer__signatureArea___2Hbf0\",\"signature_requirement\":\"SignatureContainer__signature_requirement___1vlnB\",\"signature_requirement2\":\"SignatureContainer__signature_requirement2___2dEKV\",\"btn__search\":\"SignatureContainer__btn__search___3h05D\",\"btn__confirm\":\"SignatureContainer__btn__confirm___3sd8a\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/container/SignatureContainer/SignatureContainer.scss\n// module id = 116\n// module chunks = 4","// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"SignatureHintMask__container___2KwXP\",\"svg__bg\":\"SignatureHintMask__svg__bg___OjmQU\",\"svg__logo\":\"SignatureHintMask__svg__logo___3VAwu\",\"svg__hintCircle\":\"SignatureHintMask__svg__hintCircle___13LO4\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/container/SignatureContainer/components/SignatureHintMask/SignatureHintMask.scss\n// module id = 117\n// module chunks = 4","module.exports = __webpack_public_path__ + \"static/img/logo_newa.c58150e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/NEWA/logo_newa.png\n// module id = 126\n// module chunks = 4","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 15\n// module chunks = 4 5 6 7","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 42\n// module chunks = 4 5 6 7","import React, { PureComponent, PropTypes } from 'react';\nimport classNames from 'classnames/bind';\nimport TransitionGroup from 'react-transition-group/TransitionGroup'\nimport styles from './SignatureContainer.scss';\nconst cx = classNames.bind(styles);\n\nconst style = {\n  marginRight: 20,\n};\n\nimport SignatureHintMask from './components/SignatureHintMask/SignatureHintMask.jsx';\nimport Signature from '../../components/Signature/Signature.jsx';\nimport animeSentOut from './animation/aniSentOutContract.js';\n// FIXME: safari縮放後開\n// TODO: landscape mount animation stop\n\n/**\n * feature:\n * 1. opening hint step: contract scale by transform\n * 2. write signature: \n *      => viewport zoom out \n *      => signature zoom in \n *      => orientation landscape hint ( cover by mask can't be draw, by css )\n *      => screen overflow lock\n * \n * @class SignatureContainer\n * \n * @extends {PureComponent}\n */\nclass SignatureContainer extends PureComponent {\n\n  constructor() {\n    super();\n    this.state = {\n      orientation: false,\n      hintMaskDone: false,\n      signatureAreaOpen: false,\n      signatureComplete: false,\n      area_proportion: false,\n      imageSignature: false,\n      zoomIn: false,\n      contractOnload: false,\n    }\n  }\n\n  _getOrientation = () => {\n    this.setState({\n      orientation: window.innerHeight > window.innerWidth ? 'port' : 'land'\n    });\n  }\n\n  componentDidMount() {\n    this._getSignatureAreaProportion();\n    var viewport_meta = document.querySelector('meta[name=\"viewport\"]');\n    document.body.addEventListener('gesturestart', function() {\n      viewport_meta.content = 'width=1040';\n    }, false);\n\n    window.addEventListener(\"resize\", (e) => {\n      this._getOrientation();\n    });\n  }\n\n  _getSignatureAreaProportion = () => {\n    this.setState({\n      area_proportion: this.refSignatureArea.clientWidth / this.refSignatureArea.clientHeight\n    });\n  }\n\n  _zoomOutViewSize = () => {\n    var viewport_meta = document.querySelector('meta[name=\"viewport\"]');\n    if (viewport_meta) {\n      viewport_meta.content = 'width=1041, user-scalable=no'; // width 1040 will make user-scalable useless\n    }\n  }\n\n  _releaseScalable = () => {\n    var viewport_meta = document.querySelector('meta[name=\"viewport\"]');\n    viewport_meta.content = 'width=1040';\n  }\n\n  _cbHintDone = () => {\n    this.setState({\n      hintMaskDone: true\n    }, () => {\n      this._releaseScalable()\n    })\n  }\n\n  _openSignatureArea = () => {\n    this._zoomOutViewSize();\n    this.setState({\n      signatureAreaOpen: true\n    });\n  }\n\n  _closeSignatureArea = (imageSignature, signedOrNot) => {\n    this.setState({\n      signatureAreaOpen: false,\n      signatureComplete: signedOrNot,\n      imageSignature\n    }, () => {\n      this._releaseScalable();\n    });\n  }\n\n  _completeSignature = (bool) => {\n    this.setState({\n      signatureComplete: bool\n    });\n  }\n\n  _confirmContract = () => {\n    animeSentOut(this.refContract)\n  }\n\n  _onloadImgContract = () => {\n    this.setState({\n      contractOnload: true\n    });\n  }\n\n  render() {\n    const id_proposer = \"signature_proposer\";\n    const id_contract = \"box_contract\";\n    const {img_contract} = this.props;\n    const {orientation, hintMaskDone, signatureAreaOpen, area_proportion, imageSignature, signatureComplete, contractOnload} = this.state;\n    return (\n      <div className={ cx(\"container\", {\n                   \"active\": imageSignature\n                 }) }>\n        <div\n          id={ id_contract }\n          ref={ contract => this.refContract = contract }\n          className={ cx('box__contract', {\n                        'box__contract--hint': !hintMaskDone\n                      }) }>\n          <img\n            src={ img_contract }\n            className={ styles.img__contract }\n            onLoad={ this._onloadImgContract }\n            alt=\"contract\" />\n          <div\n            id={ id_proposer }\n            ref={ signature_area => this.refSignatureArea = signature_area }\n            className={ cx('signature_position', 'signature_requirement', {\n                          'active': imageSignature\n                        }) }\n            style={ { backgroundImage: `url(${imageSignature})` } }\n            onClick={ this._openSignatureArea }></div>\n        </div>\n        { area_proportion ?\n          <Signature\n            dom_signature_id={ id_proposer }\n            orientation={ orientation }\n            signature_open={ signatureAreaOpen }\n            area_proportion={ area_proportion }\n            closeSignature={ this._closeSignatureArea } /> : false }\n        <TransitionGroup>\n          { !hintMaskDone &&\n            <SignatureHintMask\n              orientation={ orientation }\n              cbHintDone={ this._cbHintDone }\n              id_contract={ id_contract }\n              contractOnload={ contractOnload } /> }\n        </TransitionGroup>\n        <div className={ cx(\"btn__confirm\", {\n                           \"active\": signatureComplete\n                         }) } onClick={ this._confirmContract }>\n          確認送出\n        </div>\n      </div>\n      );\n  }\n}\n\nSignatureContainer.propTypes = {\n  img_contract: PropTypes.string.isRequired\n};\n\nexport default SignatureContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/SignatureContainer/SignatureContainer.jsx","module.exports = __webpack_public_path__ + \"static/img/contract_hash.47e78d0.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/test_img/contract_hash.jpg\n// module id = 98\n// module chunks = 4"],"sourceRoot":""}